{% extends 'base.html' %}

{% load static %}

{% block content %}
<main class="px-1">
    <h1>User Profile</h1>
    <div class="mt-5">
        <div id="logout-success-alert" class="alert alert-success" role="alert" style="display: none;"></div>
        <form class="row g-3 needs-validation" novalidate=""
              onsubmit="post_logout(event)" id="logout-form">
            <input type="hidden" id="redirect-url" data-url="{% url "index" %}" />
            <input type="hidden" id="post-logout-url" data-url="{% url "logout" %}" />
            <div class="col-2">
                <button type="submit" class="btn btn-warning mb-3" id="logout-button">Logout</button>
            </div>
        </form>
    </div>

    <div class="mt-5">
        <h5 class="text-start mb-3">Update Username</h4>
        <div id="username-success-alert" class="alert alert-success" role="alert" style="display: none;"></div>
        <div id="username-danger-alert" class="alert alert-danger" role="alert" style="display: none;"></div>
        <form class="row g-3 needs-validation" novalidate=""
              onsubmit="patch_username(event)" id="username-form">
            <hr class="my-4">
            <div class="col-3">
                <label for="oldusername" class="visually-hidden">Old Username</label>
                <input type="text"
                       class="bg-light text-center form-control-plaintext"
                       id="oldusername"
                       value="{{ user.username }}" readonly>
            </div>
            <div class="col-7">
                <label for="newusername" class="visually-hidden">Update Username</label>
                <input type="text" class="form-control" id="newusername" placeholder="Update Username">
            </div>
            <div class="col-2">
                <button type="submit" class="btn btn-primary mb-3" id="username-button">Update</button>
            </div>
            <hr class="my-4">
        </form>
    </div>

</main>
{% endblock %}
